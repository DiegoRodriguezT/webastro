---
import type { GetStaticPaths } from "astro";
import { getCollection, type CollectionEntry } from "astro:content";

import Prose from "../../components/Prose.astro";
import Blog from "../../layouts/BlogLayout.astro";

export async function getStaticPaths() {
	const postsBlog = await getCollection("blog");
	return postsBlog.map((post) => ({
		params: {
			slug: post.slug,
		},
		props: post,
	}));
}

type Props = CollectionEntry<"blog">;

const post = Astro.props;

const { Content } = await post.render();
export const prerender = true;
const tags = post.data.tags;
const apuntes = post.data.title == "Apuntes de Matem√°ticas" ? true : false;
---

<Blog {...post.data}>
	<Prose>
		<Content />
	</Prose>
	{tags != null ? <hr/>: ""}
	<div class="flex flex-wrap gap-3">
		{
			tags?.map((tag) => 
				<a class="px-5 py-3 bg-gray-50 border rounded-xl text-base font-medium hover:-translate-y-[2px] transition focus:ring focus:ring-gray-100" href={`/tags/${tag}`}>
					{tag}
				</a>
			)
		}
	</div>
</Blog>
